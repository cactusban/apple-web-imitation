import { useEffect, useRef, useState, type FC, type ReactNode } from 'react'
import {
  Container,
  LeftArrow,
  NewContainer,
  NewWarpper,
  RightArrow,
} from './style'
import { LeftOutlined, RightOutlined } from '@ant-design/icons'

interface Iprops {
  children?: ReactNode
}

const Specialist: FC<Iprops> = () => {
  const containerRef = useRef<HTMLDivElement>(null)
  const [showLeft, setShowLeft] = useState(false)
  const [showRight, setShowRight] = useState(true)
  const goLeft = () => {
    containerRef.current?.scrollBy({ left: -400, behavior: 'smooth' })
  }
  const goRight = () => {
    containerRef.current?.scrollBy({ left: 400, behavior: 'smooth' })
  }
  const checkScrollPosition = () => {
    if (containerRef.current) {
      const { scrollLeft, scrollWidth, clientWidth } = containerRef.current
      const canScroll = scrollWidth > clientWidth
      setShowLeft(canScroll && scrollLeft > 0)
      setShowRight(canScroll && scrollLeft + clientWidth < scrollWidth - 1)
    }
  }
  useEffect(() => {
    checkScrollPosition()
    const container = containerRef.current
    if (container) {
      container.addEventListener('scroll', checkScrollPosition)
      window.addEventListener('resize', checkScrollPosition) // 监听窗口大小变化
      return () => {
        container.removeEventListener('scroll', checkScrollPosition)
        window.addEventListener('resize', checkScrollPosition) // 监听窗口大小变化
      }
    }
  }, [])
  return (
    <>
      <NewWarpper>
        <LeftArrow onClick={goLeft} className={`${showLeft ? '' : 'hidden'}`}>
          <LeftOutlined style={{ fontWeight: 800 }} />
        </LeftArrow>

        <Container ref={containerRef}>
          {' '}
          <NewContainer>
            {' '}
            <div className="content">
              {' '}
              <svg width="50" height="50">
                <path
                  fill="#007aff"
                  d="m38 29.0205v9.9795c0 3.8594-3.1403 7-6.9996 7h-22c-3.8594 0-7-3.1406-7-7v-4.75h-1.2514c-.7087 0-.8958-.4824-.502-1.0337l2.2051-3.1304c.315-.4529.7875-.443 1.1025 0l2.2051 3.1403c.3839.5414.1969 1.0238-.5021 1.0238h-1.2576v4.75c0 2.7568 2.2435 5 5.0004 5h22c2.7568 0 5-2.2432 5-5v-9.9795c0-.5527.4473-1 1-1s.9996.4473.9996 1zm1.251-7.2705h-1.251v-4.75c0-3.8594-3.1403-7-6.9996-7h-22c-3.8594 0-7 3.1406-7 7v9.9795c0 .5527.4473 1 1 1s.9996-.4473.9996-1v-9.9795c0-2.7568 2.2435-5 5.0004-5h22c2.7568 0 5 2.2432 5 5v4.75h-1.258c-.6989 0-.886.4823-.502 1.0237l2.2051 3.1404c.315.4429.7875.4529 1.1025 0l2.2051-3.1305c.3937-.5513.2067-1.0336-.5021-1.0336zm-13.8013 1.6872c.2991-.2918.7214-.4372 1.2668-.4372h3.569c.5396 0 .9599.1454 1.261.4372.303.2918.4536.7004.4536 1.225v8.6845c0 .5246-.1486.9313-.4477 1.2201s-.7214.4332-1.2668.4332h-3.569c-.5454 0-.9677-.1444-1.2668-.4332s-.4496-.6955-.4496-1.2201v-8.6845c0-.5246.1505-.9333.4496-1.225zm.7038 9.7945c0 .2004.0469.3517.1447.4548.0958.1032.2424.1552.436.1552h3.524c.1935 0 .3402-.0521.4398-.1552.0997-.1032.1506-.2544.1506-.4548v-8.4546c0-.2004-.0508-.3537-.1506-.4598-.0997-.1061-.2463-.1591-.4398-.1591h-3.524c-.1935 0-.3402.053-.436.1591-.0977.1061-.1447.2593-.1447.4598zm2.3488-13.2317h-16.6196c-.5806 0-1.0401.1572-1.3773.4725s-.5054.783-.5054 1.4019v11.1256h-1.2559c-.2757 0-.5103.0824-.7038.2798s-.2903.4352-.2903.7122.0968.5138.2903.7122c.1935.1965.4281.2957.7038.2957h15.1703c-.2581-.4126-.393-.8841-.4047-1.4146 0-.1002-.002-.2004-.0059-.3006-.002-.1002-.0039-.1846-.0039-.2848h-12v-10.6512c0-.2829.0704-.4951.2111-.6366s.3519-.2122.6334-.2122h17.7686c-.0352-.4715-.1916-.9037-.4672-1.1424s-.6569-.3576-1.1437-.3576zm-.6924 5.4067h1.3802c.1114 0 .2072-.0403.2854-.1199.0801-.0796.1193-.1778.1193-.2957 0-.112-.0391-.2063-.1193-.2829-.0782-.0766-.174-.1149-.2854-.1149h-1.3802c-.1173 0-.215.0383-.2913.1149s-.1134.1709-.1134.2829c0 .1179.0371.2161.1134.2957s.174.1199.2913.1199zm-.4179 7.8983h2.2c.1887 0 .284-.1032.284-.3095 0-.0884-.027-.1611-.0809-.2171s-.1222-.0835-.2031-.0835h-2.2c-.0809 0-.1456.0275-.1941.0835s-.0719.1287-.0719.2171c0 .2063.0881.3095.266.3095z"
                ></path>
              </svg>
              <h1>
                <span style={{ color: '#007aff' }}>折抵你的设备，</span>
                换购新机享优惠。
              </h1>
            </div>
          </NewContainer>
          <NewContainer>
            {' '}
            <div className="content">
              <svg width="50" height="50">
                <path
                  fill="green"
                  d="M41.0009,12H5A5,5,0,0,0,.0009,17L0,39a5,5,0,0,0,4.9991,5H41.0009A5,5,0,0,0,46,39V17A5,5,0,0,0,41.0009,12ZM5,14H41.0009A3.0032,3.0032,0,0,1,44,17l.0005,2H2l.0005-2A3.0032,3.0032,0,0,1,5,14ZM41.0009,42H4.9991a3.0032,3.0032,0,0,1-3-3V22.9577H44V39A3.0032,3.0032,0,0,1,41.0009,42ZM15,31.5737v3.8526A1.5541,1.5541,0,0,1,13.4663,37H8.5338A1.5542,1.5542,0,0,1,7,35.4263V31.5737A1.5542,1.5542,0,0,1,8.5338,30h4.9325A1.5541,1.5541,0,0,1,15,31.5737Z"
                ></path>
              </svg>
              <h1>最长可享 24 个月免息分‍期</h1>
            </div>
          </NewContainer>
          <NewContainer>
            {' '}
            <div className="content">
              <svg width="50" height="50">
                <path
                  fill="rgba(191, 0, 255, 0.51)"
                  d="m32.7812 29.6094a1.0221 1.0221 0 0 0 -1-.125 42.9866 42.9866 0 0 1 -5.76 1.3437 37.7 37.7 0 0 1 -6.01.4688 37.8947 37.8947 0 0 1 -6.0208-.4688 42.1134 42.1134 0 0 1 -5.75-1.3437 1.08 1.08 0 0 0 -1.0313.125.9492.9492 0 0 0 -.2812.9583 12.0862 12.0862 0 0 0 2.1875 5.6667 13.3019 13.3019 0 0 0 4.6446 4.0521 13.0763 13.0763 0 0 0 6.25 1.51 13.0332 13.0332 0 0 0 6.2292-1.51 13.3984 13.3984 0 0 0 4.6562-4.0521 11.8567 11.8567 0 0 0 2.1771-5.6667.9968.9968 0 0 0 -.2913-.9583zm-2.3124 4.4167a37.2669 37.2669 0 0 1 -5.1771 1.0939 38.5047 38.5047 0 0 1 -5.2813.3646 38.8064 38.8064 0 0 1 -5.2812-.3646 37.13 37.13 0 0 1 -5.198-1.0937 9.7 9.7 0 0 1 -1.0833-2.9167 43.2962 43.2962 0 0 0 5.6459 1.2292 39.8385 39.8385 0 0 0 5.9166.4375 39.9092 39.9092 0 0 0 5.9063-.4375 42.4138 42.4138 0 0 0 5.6354-1.2292 9.43 9.43 0 0 1 -1.0833 2.9165zm-17.8021-8.5834a2.8583 2.8583 0 0 1 0-3.5416 1.8441 1.8441 0 0 1 1.4271-.7084 1.9442 1.9442 0 0 1 1.4895.7084 2.7531 2.7531 0 0 1 -.01 3.5312 1.944 1.944 0 0 1 -1.4791.7188 1.8438 1.8438 0 0 1 -1.4275-.7084zm11.7812-.01a2.8064 2.8064 0 0 1 0-3.5312 1.8745 1.8745 0 0 1 1.4375-.7084 1.8935 1.8935 0 0 1 1.4583.7084 2.8207 2.8207 0 0 1 0 3.5416 1.8931 1.8931 0 0 1 -1.4583.7084 1.8644 1.8644 0 0 1 -1.4375-.7192zm-4.4479-14.7327a17.3 17.3 0 1 1 -17.3 17.3 17.32 17.32 0 0 1 17.3-17.3m0-2.2a19.5 19.5 0 1 0 19.5 19.5 19.5 19.5 0 0 0 -19.5-19.5z"
                ></path>
              </svg>
              <h1>
                这一刻，属于你。
                <span style={{ color: 'rgba(191, 0, 255, 0.51)' }}>
                  混搭表情符号、名字和数字，一起免费刻。
                </span>
              </h1>
            </div>
          </NewContainer>
          <NewContainer>
            {' '}
            <div className="content">
              <svg width="50" height="50">
                <path
                  fill="green"
                  d="m33.4019 16.719-13-7.1197c-.7481-.4098-1.575-.6146-2.4019-.6146s-1.6538.2048-2.4019.6146l-13 7.1197c-1.602.8774-2.5981 2.5587-2.5981 4.3854v13.7913c0 1.8267.9961 3.5079 2.5981 4.3854l13 7.1197c.748.4097 1.575.6146 2.4019.6146s1.6538-.2049 2.4019-.6146l13-7.1197c1.602-.8775 2.5981-2.5588 2.5981-4.3855v-13.7912c0-1.8267-.9961-3.508-2.5981-4.3854zm-16.8431-5.3655c.4404-.2413.939-.3688 1.4412-.3688s1.0007.1275 1.4412.3688l13 7.1196c.1169.064.21.1554.3157.2329l-6.1394 3.5058-14.8081-8.2572zm.4412 33.4669c-.1492-.0531-.3018-.0975-.4412-.1738l-13-7.1197c-.9614-.5267-1.5588-1.5349-1.5588-2.6313v-13.7912c0-.2562.0391-.506.1013-.7476l14.8987 8.5077zm-13.7568-26.1143c.1057-.0775.1987-.1689.3157-.2329l6.1782-3.3836 14.8511 8.2811-6.5882 3.7621zm30.7568 16.1895c0 1.0964-.5974 2.1046-1.5588 2.6312l-13 7.1197c-.1394.0763-.292.1208-.4412.1739v-15.9559l14.8987-8.5077c.0622.2416.1013.4913.1013.7476z"
                ></path>
              </svg>
              <h1>
                部分订单可付费选择三小时快送，或亲自到店取货。所有订单均可享免费送货。
              </h1>
            </div>
          </NewContainer>
          <NewContainer>
            {' '}
            <div className="content">
              <svg width="50" height="50">
                <path
                  fill="rgba(63,110,184)"
                  d="M29 10H7a7 7 0 0 0-7 7v22a7 7 0 0 0 7 7h22a7 7 0 0 0 7-7V17a7 7 0 0 0-7-7zm5 29c0 2.757-2.243 5-5 5H7c-2.757 0-5-2.243-5-5V17c0-2.757 2.243-5 5-5h22c2.757 0 5 2.243 5 5v22zm-9-20h-2.038c-.195-2.46-2.329-4.405-4.962-4.405S13.233 16.54 13.038 19H11a3.5 3.5 0 0 0-3.5 3.5v13A3.5 3.5 0 0 0 11 39h14a3.5 3.5 0 0 0 3.5-3.5v-13A3.5 3.5 0 0 0 25 19zm-3.458 11.447a5.733 5.733 0 0 1-.475.873c-.246.364-.45.618-.61.754-.237.229-.5.347-.78.356-.194 0-.44-.06-.72-.178a2.019 2.019 0 0 0-.779-.178c-.246 0-.508.06-.796.178-.288.119-.517.178-.695.186-.263.009-.525-.11-.797-.364-.169-.152-.38-.407-.635-.78a5.597 5.597 0 0 1-.67-1.372 5.184 5.184 0 0 1-.279-1.635c0-.602.127-1.119.382-1.56.194-.347.465-.626.796-.83a2.151 2.151 0 0 1 1.084-.313c.212 0 .492.06.839.195.339.136.56.203.66.203.077 0 .323-.076.738-.237.39-.144.729-.203 1-.178.737.06 1.287.356 1.66.898-.66.415-.991.992-.982 1.729.008.576.211 1.058.601 1.432.186.177.39.313.61.406-.042.144-.102.28-.152.415zm-3.56-5.151c0-.44.162-.847.493-1.228.169-.196.372-.348.627-.475.245-.127.483-.203.711-.212.009.06.009.119.009.178 0 .45-.161.881-.483 1.271-.39.466-.839.678-1.348.635-.008-.05-.008-.11-.008-.17zM14.24 19c.194-1.794 1.796-3.205 3.761-3.205s3.567 1.41 3.761 3.205H14.24z"
                ></path>
              </svg>
              <h1>
                <span style={{ color: 'rgba(63,110,184)' }}>
                  专属于你的购物体验，
                </span>
                尽在
                <span style={{ color: 'rgba(63,110,184)', fontWeight: 'bold' }}>
                  Apple Store App
                </span>
              </h1>
            </div>
          </NewContainer>
          <NewContainer>
            {' '}
            <div className="content">
              <svg width="50" height="50">
                <defs>
                  <linearGradient
                    id="svgGrad"
                    x1="0%"
                    y1="0%"
                    x2="100%"
                    y2="100%"
                  >
                    <stop
                      offset="0%"
                      style={{ stopColor: 'orange', stopOpacity: 1 }}
                    />
                    <stop
                      offset="100%"
                      style={{ stopColor: 'red', stopOpacity: 1 }}
                    />
                  </linearGradient>
                </defs>
                <path
                  fill="url(#svgGrad)"
                  d="m 14.9,14.43 a 2.581,2.581 0 0 1 -0.472,-0.045 3.083,3.083 0 0 1 -0.067,-0.629 7.531,7.531 0 0 1 1.909,-4.694 7.76,7.76 0 0 1 5.1,-2.628 3.329,3.329 0 0 1 0.067,0.7 7.745,7.745 0 0 1 -1.837,4.825 6.728,6.728 0 0 1 -4.7,2.471 z m 12.807,3.818 a 7.851,7.851 0 0 0 -3.751,6.6 7.64,7.64 0 0 0 4.649,7.008 18.257,18.257 0 0 1 -2.381,4.919 c -1.482,2.134 -3.032,4.268 -5.391,4.268 -2.359,0 -2.965,-1.37 -5.683,-1.37 -2.65,0 -3.594,1.415 -5.75,1.415 -2.156,0 -3.661,-1.977 -5.391,-4.4 A 21.279,21.279 0 0 1 0.395,25.211 c 0,-6.738 4.38,-10.31 8.692,-10.31 2.291,0 4.2,1.5 5.638,1.5 1.37,0 3.5,-1.595 6.109,-1.595 a 8.172,8.172 0 0 1 6.873,3.442 z"
                ></path>
              </svg>
              <h1>
                <span style={{ color: '#0d6efd', fontWeight: 'bold' }}>
                  定制
                </span>
                你的 Mac，打造个‍性‍十‍足的 Apple Watch。
              </h1>
            </div>
          </NewContainer>
        </Container>
        <RightArrow
          className={`${showRight ? '' : 'hidden'}`}
          onClick={goRight}
        >
          <RightOutlined />
        </RightArrow>
      </NewWarpper>
    </>
  )
}
export default Specialist
